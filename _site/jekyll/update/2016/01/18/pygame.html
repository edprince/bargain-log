<!DOCTYPE html>
<html>
    
    <!--
	Ion by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<head>

    <title>Dabbling with Pygame</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
    <script src="/bargain-log//js/jquery.min.js"></script>
    <script src="/bargain-log//js/skel.min.js"></script>
    <script src="/bargain-log//js/skel-layers.min.js"></script>
    <script src="/bargain-log//js/init.js"></script>
        <link rel="stylesheet" href="/bargain-log//css/syntax.css" />
    <noscript>
        <link rel="stylesheet" href="/bargain-log//css/skel.css" />
        <link rel="stylesheet" href="/bargain-log//css/style.css" />
        <link rel="stylesheet" href="/bargain-log//css/style-xlarge.css" />
    </noscript>
</head>


	<body id="top">

        <!-- Header -->
<header id="header" class="skel-layers-fixed">
    <h1><a href="/bargain-log//" class="site-title" >Hunting for archaeological bargains</a></h1>
    <nav id="nav">
        <ul>
            <li><a href="/bargain-log//">Home</a></li>
            <li><a href="/bargain-log//blog.html">Blog</a></li>
            
                  
            
                  
            
                  
            
                  
            
                  
            
                  
            
                  
            
            <li><a href="https://github.com/edprince" class="button special">GitHub</a></li>
        </ul>
    </nav>
</header>


        <div class="wrapper style1">
    <article class="container">
        <header class="major">
            <h2 class="post-title">Dabbling with Pygame</h2>
                <p class="post-meta">Jan 18, 2016</p>
        </header>

        <section class="post-content">
            <h2 id="pygame">Pygame</h2>
<p>This week I have started implementing some stuff with Pygame, mainly as a trial
run to see how viable it seems for this project.</p>

<p>I have created a simple 2D tile-based map with simple textures to play around.
The map is using the following data format:</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="nb">map</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span></code></pre></div>

<p>So there are multiple lists within lists. Each sub list represents a row, and
the containing list represents the columns. The numbers represent the type of
tile, so for example in my work I had:</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">GRASS</span> <span class="o">=</span> <span class="mi">1</span>  
<span class="n">STONE</span> <span class="o">=</span> <span class="mi">2</span>  
<span class="n">DIRT</span> <span class="o">=</span> <span class="mi">3</span>  
<span class="n">WATER</span> <span class="o">=</span> <span class="mi">4</span>  
<span class="n">SAND</span> <span class="o">=</span> <span class="mi">5</span>  
<span class="n">etc</span><span class="o">.</span></code></pre></div>

<p>This meant each value in the map list corresponds to one of the tile types.</p>

<h1 id="map-parser">Map Parser</h1>
<p>Originally, I had the same list set up for creating the maps, but values being
the tile types, but shortly found this was taking far too long to efficiently
work with, so I decided to create the maps in a text file, with different
characters representing the different tiles, and then wrote a parser in Python
that would read the file and build the map list accordingly.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">parse_map</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Parses map data into lists</span>

<span class="sd">    Takes characters and if matching tile types, builds a list within a list of</span>
<span class="sd">    entire map&#39;&#39;&#39;</span>
    <span class="n">tilemap_tmp</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s">&#39;#&#39;</span><span class="p">:</span>
            <span class="n">tilemap_tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SAND</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="s">&#39;~&#39;</span><span class="p">:</span>
            <span class="n">tilemap_tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">WATER</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="s">&#39;v&#39;</span><span class="p">:</span>
            <span class="n">tilemap_tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SAND</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="s">&#39;_&#39;</span><span class="p">:</span>
            <span class="n">tilemap_tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GRASS</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="s">&#39;&quot;&#39;</span><span class="p">:</span>
            <span class="n">tilemap_tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">DIRT</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="s">&#39;=&#39;</span><span class="p">:</span>
            <span class="n">tilemap_tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">WOOD</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="s">&#39;/&#39;</span><span class="p">:</span>
            <span class="n">tilemap</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tilemap_tmp</span><span class="p">)</span>
            <span class="k">print</span> <span class="n">tilemap_tmp</span>
            <span class="n">tilemap_tmp</span> <span class="o">=</span> <span class="p">[]</span></code></pre></div>

<p><img src="http://i.imgur.com/COsNT3x.png" alt="Map" /></p>


        </section>
        
        <footer>
          <!--
          
            <a href="/jekyll/update/2016/01/18/assets.html" class="float-left">&larr; Previous post</a> 
            
            <a href="/jekyll/update/2016/01/18/week1.html" class="float-right">Next post &rarr;</a> 
            -->
            <a href='/bargain-log//blog.html' style='text-align:center'>Back to menu</a>
        </footer>

    </article>

</div>


        <!-- Footer -->
<footer id="footer">
    <div class="container">
        <div class="row double">
            <div class="6u">
                <div class="row collapse-at-2">
                    <div class="6u">
                        <h3>Follow my work</h3>
                        <ul class="alt">
                            <li><a href="https://github.com/edprince">GitHub</a></li>
                        </ul>
                    </div>
                    <div class="6u">
                        <h3>Recommended Top 4</h3>
                        <ul class="alt">
                            <li><a href="#">Travis CI</a></li>
                            <li><a href="#">Trello</a></li>
                            <li><a href="#">Gitter</a></li>
                            <li><a href="#">Foundation</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="6u">
                <h2>Presence</h2>
                <p>Although I maintain social presence in multiple areas, the
                  best place to keep updated on what I am up to is through
                  Twitter and GitHub.</p>
                <ul class="icons">
                    <li><a href="https://twitter.com/ed_prince1" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
                    <li><a href="https://www.facebook.com/ed.prince.7" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
                    <li><a href="https://github.com/edprince" class="icon fa-github"><span class="label">GitHub</span></a></li>
                    <li><a href="https://www.linkedin.com/profile/guided?startTask=ADD_POSITION&force=true&trk=hp-identity-ADD_POSITION" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>


    </body>

</html>
